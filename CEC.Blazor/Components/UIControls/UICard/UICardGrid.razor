@namespace CEC.Blazor.Components.UIControls
@inherits UICardListBase

@typeparam TItem

    <CascadingValue Value="(this)">
        <CascadingValue Value="((UICardListBase)this)">

            <UITag Css="@this.CardCSS">

                <UITag Css="@this.CardHeaderCSS">

                    <UITag Css="float-left">

                        <UITag Css="@HeaderFontSize" Tag="span">
                            @this.ListTitle
                        </UITag>

                        <UIButton ButtonFlavor="@UIButton.Size.BtnSmall" ButtonColour="@UIButton.Colour.BtnOutlineLight" AddOnCss="@CardCollapseButtonCSS" ClickEvent="(e => this.Toggle())"></UIButton>

                    </UITag>

                </UITag>

                <UITag Css="@this.CardBodyCSS">

                    @Navigation

                    @Top

                    <UIErrorHandler>

                    </UIErrorHandler>
                    <UIGridTableContainer>

                        <UIGridTableRow>

                            @TableHeader

                        </UIGridTableRow>

                    </UIGridTableContainer>

                    <UIGridTableContainer>

                        <UIErrorHandler IsError="this.IsError" IsLoading="this.IsLoading">

                            <UIGridTableRow>

                                @foreach (var item in this.Paging.Records)
                                {

                                <UIGridTableRow>

                                    @RowTemplate(item)

                                </UIGridTableRow>

                                }

                            </UIGridTableRow>

                        </UIErrorHandler>

                    </UIGridTableContainer>

                </UITag>

            </UITag>

        </CascadingValue>

    </CascadingValue>
